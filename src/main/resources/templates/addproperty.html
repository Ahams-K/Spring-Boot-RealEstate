<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Property</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
    <script defer th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap-icons/font/bootstrap-icons.css} "/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
<header th:insert="~{header::header}"></header>

<div class="container mt-4">
    <form method="post" th:action="@{/properties/add}" th:object="${propertyViewModel}">
        <fieldset>
            <legend>
                <h2 th:text="#{property.add}">Add A New Property</h2>
            </legend>
            <div class="row mb-3">
                <label for="propertyName" class="col-sm-3 col-form-label" th:text="#{name}">Name:</label>
                <div class="col-sm-5">
                    <input type="text" class="form-control" id="propertyName" name="propertyName" th:field="*{propertyName}">
                    <div class="form-text" th:if="${#fields.hasErrors('propertyName')}" th:errors="*{propertyName}" style="color: red;"></div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="address" class="col-sm-3 col-form-label" th:text="#{property.address}">Address:</label>
                <div class="col-sm-5">
                    <input type="text" class="form-control" id="address" name="address" th:field="*{address}">
                    <div class="form-text" th:if="${#fields.hasErrors('address')}" th:errors="*{address}" style="color: red;"></div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="price" class="col-sm-3 col-form-label" th:text="#{property.price}">Price:</label>
                <div class="col-sm-5">
                    <input type="number" step="any" class="form-control" id="price" name="price" th:field="*{price}">
                    <div class="form-text" th:if="${#fields.hasErrors('price')}" th:errors="*{price}" style="color: red;"></div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="type" class="col-sm-3 col-form-label" th:text="#{property.type}">Type:</label>
                <div class="col-sm-5">
                    <select class="form-select" id="type" name="type" th:field="*{type}">
                        <option value="" disabled selected th:text="#{choose.type}">Choose Type</option>
                        <option th:each="type: ${T(be.kdg.prog3.RealEstateServiceSystem.businessLayer.domain.PropertyType).values()}" th:value="${type}" th:text="${type}"></option>
                    </select>
                    <div class="form-text" th:if="${#fields.hasErrors('type')}" th:errors="*{type}" style="color: red;"></div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="size" class="col-sm-3 col-form-label" th:text="#{property.size}">Size:</label>
                <div class="col-sm-5">
                    <input type="number" class="form-control" id="size" name="size" th:field="*{size}">
                    <div class="form-text" th:if="${#fields.hasErrors('size')}" th:errors="*{size}" style="color: red;"></div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="status" class="col-sm-3 col-form-label" th:text="#{property.status}">Status:</label>
                <div class="col-sm-5">
                    <select class="form-select" id="status" name="status" th:field="*{status}">
                        <option value="" disabled selected>Choose Status</option>
                        <option th:each="status: ${T(be.kdg.prog3.RealEstateServiceSystem.businessLayer.domain.PropertyStatus).values()}" th:value="${status}" th:text="${status}"></option>
                    </select>
                    <div class="form-text" th:if="${#fields.hasErrors('status')}" th:errors="*{status}" style="color: red;"></div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="numberOfRooms" class="col-sm-3 col-form-label" th:text="#{noofrooms}">Number Of Rooms:</label>
                <div class="col-sm-5">
                    <input type="number" class="form-control" id="numberOfRooms" name="numberOfRooms" th:field="*{numberOfRooms}">
                    <div class="form-text" th:if="${#fields.hasErrors('numberOfRooms')}" th:errors="*{numberOfRooms}" style="color: red;"></div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="dateListed" class="col-sm-3 col-form-label" th:text="#{property.date}">Date Listed:</label>
                <div class="col-sm-5">
                    <input type="date" class="form-control" id="dateListed" name="dateListed" th:field="*{dateListed}"
                           th:value="${#dates.format(propertyViewModel.dateListed, 'dd/MM/yyyy')}">
                    <div class="form-text" th:if="${#fields.hasErrors('dateListed')}" th:errors="*{dateListed}" style="color: red;"></div>
                </div>
            </div>
        </fieldset>
        <button type="submit" class="btn btn-primary mt-3" style="margin-bottom: 20px;" value="Submit" th:text="#{submit}">Submit</button>
    </form>
</div>
<footer th:insert="~{footer::footer}"></footer>
</body>
</html>
